$(document).ready(function(){"use strict";var a=".header",b=".header-animated",c=".header-sticky",d=".header-background",e=".header-compact",f=".header-in",g=".header-out",h=".header-positioned",j="#bkg-retina-img, #retina-img, [data-2x]",k=".equalize",m=".fullscreen-sections-wrapper",n=".fullscreen-section",o=".scroll-link",p=1e3,q="easeInOutQuart",r=.6,s=".grid-container",t=".grid-item, .masonry-stamp",u=".grid-filter-menu",w="700ms",x="700ms",y=!1,z=[".video-container iframe",".video-container object"],A=["www.youtube.com","player.vimeo.com"],B=".mejs-container audio, .mejs-container video",C=".carousel-slider",D=".content-slider",E=".previous-content-slider",F=".next-content-slider",G=".tm-slider-container.fullscreen",H=".previous-fullscreen-slider",I=".next-fullscreen-slider",J=".full-width-slider",K=".previous-full-width-slider",L=".next-full-width-slider",M=".logo-slider",N=".hero-slider",O=".testimonial-slider",P=".previous-testimonial-slider",Q=".next-testimonial-slider",R=".testimonial-slider-aux-nav .api-button",S=".team-slider",T=".previous-team-slider",U=".next-team-slider",V=".recent-slider",W=".previous-recent-slider",X=".next-recent-slider",Y="#tm-lightbox",Z=".lightbox-link",_=".form-element",aa=".form-response",ba=".form-honeypot",ca=".form-submit",da=".signup-form",ea=".required-field",fa="Please wait.",ga="Sending...",ha="You have been added to our list!",ia="Oh boy an error occurred, please try again.",ka="Please fill out required fields.",la="Please enter a valid email address.",ma=".contact-form",na=".required-field",oa="Please wait.",pa="Sending...",qa="Thank you, your email has been received!",ra="Oh boy an error occurred, please try again.",sa="Please fill out required fields.",ta="Please enter a valid email address.",ua=".map-container",va=".map-pan-link-container",wa=".map-pan-link",xa=["images/assets/map-marker.png","images/assets/map-marker-2.png"],ya=[[40.723301,-74.002988]],za=["Downtown New York Office<br>44 St. West 32"],Aa=45,Ba=53,Ca=12,Da=!1,Ea=!1,Fa=!1,Ga=!0,Ha=!0,Ia=!1,Ja=!0,Ka=".content",La=".footer-fixed",Ma=".footer",Na=!0,Oa="body",Pa=".fade-location, .logo a, .footer-logo a, .navigation a, .side-navigation a, .overlay-navigation a, .grid .overlay-link, .post-media .overlay-link, .post-title a, .post-read-more a, .pagination-previous, .pagination-next, .breadcrumb a, a.read-more",Qa=".no-page-fade, .mail-link, .lightbox-link, .contains-sub-menu, .blog .pagination-previous, .blog .pagination-next, .disabled, .scroll-link, .navigation-show a, a.navigation-show",Ra="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",Sa={init:function(){$(Oa).removeClass("no-js"),Sa.siteHeader(),Sa.retinize(),Sa.equalize(768),Sa.parallax(".parallax.fixed-height",!0,!1,!0),Sa.parallax(".parallax.fullscreen",!0,!0,!0),Sa.fullScreenSection(),Sa.masonry(),Sa.logoSlider(),Sa.heroSlider(),Sa.testimonialSlider(),Sa.teamSlider(),Sa.recentSlider(),Sa.carouselSlider(),Sa.contentSlider(),Sa.fullScreenSlider(),Sa.fullWidthSlider(),Sa.lightbox(),Sa.counter(".stat",".stat-counter",!1),Sa.horizon(".horizon",".parallax .horizon","easeInOutQuint",!1,1),Sa.videos(),Sa.mediaElement(),Sa.signupForm(),Sa.contactForm(),Sa.enablePlaceHolder();try{document.getElementsByClassName("map-canvas")&&google.maps.event.addDomListener(window,"load",Sa.googleMap)}catch(a){}Sa.fixedFooter(),Sa.pageFade(),Sa.scrollToSection(),$("body").hasClass("preload-page")&&Sa.preloadPage()},retinize:function(){$(j).retinizeImages()},equalize:function(a){imagesLoaded($(k),function(){$(k).equalizeHeights({clearUnder:a})})},parallax:function(a,b,c,d){$(a).snowBridge({scaleContainer:b,scaleUnder:960,scaleMinHeight:400,fullscreen:c,fadeInOut:d,fadeThreshold:.5,retinaSupport:!1,parallaxFactor:.6,onLoaded:function(){Sa.horizon(".horizon","","easeInOutQuint",!1,1)}})},horizon:function(a,b,c,d,e){return!$("body").hasClass("preload-page")&&void $(a).not(b).horizon({easing:c,recurring:d,threshold:e})},counter:function(a,b,c){$(b).counter({autoStart:!1}),$(a).each(function(){var a=$(this);a.horizon({recurring:c,inView:function(){return!a.find(b).data("counting")&&void a.find(b).each(function(){a.find(b).data("counting",!0);var c=$(this).data("counter");c.startCounter()})},outOfView:function(){return!(!c||!a.find(b).data("counting"))&&void a.find(b).each(function(){a.find(b).data("counting",!1);var c=$(this).data("counter");c.clearCounter()})}})})},carouselSlider:function(){$(C).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,forceFit:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:3,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},contentSlider:function(){$(D).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,forceFit:!1,scaleMinHeight:"auto",lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(D).data("avalancheSlider");$(E).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(F).on("click",function(b){b.preventDefault(),a.nextSlide()})},fullScreenSlider:function(){$(G).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,fullscreen:!0,captionScaling:!1,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1});var a=$(G).data("avalancheSlider");$(H).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(I).on("click",function(b){b.preventDefault(),a.nextSlide()})},fullWidthSlider:function(){$(J).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,forceFit:!1,fullwidth:!0,scaleUnder:960,scaleMinHeight:400,captionScaling:!0,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1});var a=$(J).data("avalancheSlider");$(K).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(L).on("click",function(b){b.preventDefault(),a.nextSlide()})},logoSlider:function(){$(M).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,carousel:!0,carouselVisible:5,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,showProgressBar:!1,navShowOnHover:!1,retinaSupport:!1})},heroSlider:function(){$(N).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!0,scaleMinHeight:"auto",carousel:!0,carouselVisible:1,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},testimonialSlider:function(){$(O).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!0,scaleMinHeight:"auto",carousel:!0,carouselVisible:1,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(O).data("avalancheSlider");$(P).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(Q).on("click",function(b){b.preventDefault(),a.nextSlide()}),$(R).each(function(){$(this).on("click",function(b){b.preventDefault();var c=$(this).data("slide");a.slideTo(c),$(R).removeClass("active"),$(this).addClass("active")})})},teamSlider:function(){$(S).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!0,carousel:!0,carouselVisible:3,carouselScaleHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(S).data("avalancheSlider");$(T).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(U).on("click",function(b){b.preventDefault(),a.nextSlide()})},recentSlider:function(){$(V).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!0,carousel:!0,carouselVisible:3,carouselScaleHeight:!0,lazyLoad:!0,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1});var a=$(V).data("avalancheSlider");$(W).on("click",function(b){b.preventDefault(),a.prevSlide()}),$(X).on("click",function(b){b.preventDefault(),a.nextSlide()})},lightbox:function(){$(Z).summitLightbox({lightboxAnimation:"slideInTop",contentAnimation:"slide",slideAmount:100,easing:"swing",speed:350,onLoaded:function(){var a=$(Y).find(".tml-aux-exit");if(0===a.length)return!1;var b=$(Z).data("summitLightbox");a.on("click",function(a){a.preventDefault(),$(this).css({transition:"none"}),b.destroyLightbox()})}})},videos:function(){fluidvids.init({selector:z,players:A})},mediaElement:function(){$(B).each(function(){var a=!1;$(this).is("audio")&&(a=!0),$(this).mediaelementplayer({features:a?["playpause","progress","volume","fullscreen"]:["playpause","progress","current","duration","tracks","volume","fullscreen"],videoWidth:"100%",videoHeight:"100%",audioWidth:"100%",videoVolume:"vertical",audioVolume:"horizontal"})})},siteHeader:function(){function v(){i=$(window).width(),j=$(window).height(),k=Math.ceil(t.outerHeight()),l="window-height"===t.data("bkg-threshold")?j-k:t.data("bkg-threshold"),m="window-height"===t.data("compact-threshold")?j-k:t.data("compact-threshold"),n="window-height"===t.data("sticky-threshold")?j-k:t.data("sticky-threshold"),o=t.data("helper-in-threshold"),p=t.data("helper-out-threshold")}var i,j,k,l,m,n,o,p,r,q=0,s=960,t=$(a),u=!!t.is("[data-sticky-threshold]");b=b.split(".").join(""),c=c.split(".").join(""),d=d.split(".").join(""),e=e.split(".").join(""),f=f.split(".").join(""),g=g.split(".").join(""),h=h.split(".").join("");var w=function(b){return!($("body").hasClass("mobile")||i<s)&&(n&&$(b).scrollTop()>=n||0===n?($(a).addClass(c),o&&p&&$(a).addClass(h)):($(a).removeClass(c),o&&p&&$(a).removeClass(h)),l&&$(b).scrollTop()>=l?$(a).addClass(d):$(a).removeClass(d),m&&$(b).scrollTop()>=m?$(a).addClass(e):$(a).removeClass(e),r=$(b).scrollTop(),r>q?(o&&$(b).scrollTop()>=o&&$(a).addClass(f),$(a).removeClass(g)):r<q&&(o&&$(b).scrollTop()<=o&&($(a).removeClass(f),$(a).removeClass(g)),o&&$(b).scrollTop()>=o&&$(b).scrollTop()<=p&&($(a).addClass(g),$(g).on(Ra,function(c){return c.stopPropagation(),c.target===$(b)[0]&&void $(a).removeClass(g)}))),void(q=r))},x=function(b){return v(),!$("body").hasClass("mobile")&&(i>s&&u&&t.css({height:t.outerHeight()+"px"}),i>s&&$(window).scrollTop()>=n?($(a).addClass(c),o&&p&&$(a).addClass(h)):($(a).removeClass(c),o&&p&&$(a).removeClass(h)),i>s&&$(window).scrollTop()<l?$(a).removeClass(d):i>s&&$(window).scrollTop()>l&&$(a).addClass(d),i>s&&$(window).scrollTop()<m?$(a).removeClass(e):i>s&&$(window).scrollTop()>m&&$(a).addClass(e),void(i<s&&$(a).removeClass(e)))};$(window).on("scroll",function(){w($(this))}),$(window).on("resize",function(){x()}),$("body").hasClass("mobile")||$(window).one("load",function(){v(),w($(this)),i>s&&u&&t.css({height:k+"px"}),$(a).addClass(b)})},fullScreenSection:function(){var a=function(){var a;if($(m).find(n).length>1){if($("body").hasClass("mobile"))return!1;var c,b=!$(m).hasClass("no-navigation");if(b){c=$("<div>").addClass("fs-pagination").appendTo($(m));for(var d=1;d<$(m).children().length;d++)a=$(m).children().eq(d-1).attr("id"),$(m).find("#"+a).data("index",d),$(m).find(c).append('<a href="#'+a+'" id="fs-pagination-'+d+'" data-index="'+d+'" class="fs-bullet-nav" />');$(window).on("resize",function(){e()});var e=function(){$(c).css({marginTop:-$(c).outerHeight()/2+"px",opacity:1})};e();var f=$(m).find(".fs-bullet-nav");f.each(function(){$(this).on("click",function(b){if(b.preventDefault(),$(this).hasClass("active"))return!1;parseFloat($(this).data("index"));a=$(this).attr("href"),Sa.scrollPage(a,0)})})}$(window).on("scroll",function(){$(m).find(n).each(function(){g($(this))})});var g=function(a){a.data("fs-scrolling")||(window.requestAnimationFrame(function(){h(a)}),a.data("fs-scrolling",!0))},h=function(a){if(Sa.isElementVisible(a,r)&&b){$(c).css({opacity:1});var d=$(m).find(a).data("index");c.find(".active").removeClass("active"),c.find("#fs-pagination-"+d).addClass("active"),a.hasClass("nav-dark")?c.addClass("nav-dark"):c.removeClass("nav-dark")}b&&Sa.isElementVisible($(m),r)?$(c).css({opacity:1,visibility:"visible"}):$(c).css({opacity:0,visibility:"hidden"}),a.data("fs-scrolling",!1)};$(m).find(n).each(function(){g($(this))})}},b=function(){$(n).each(function(){var a=$(this),b=a.find(".background-image, .background-slider-wrapper");if($(this).is("[data-width],[data-height]"))if($("body").hasClass("mobile")||c<=768){a.addClass("fs-image-scale content-below-on-mobile");var e=a.data("width"),f=a.data("height"),g=a.data("min-height"),h=a.width(),i=e>=f?e/f:f/e,j=e>=f?h/i:h*i;j=g&&j<=g?g:j,a.css({height:"auto"}),b.css({height:j+"px",minHeight:j+"px"})}else a.removeClass("fs-image-scale"),a.css({height:""}),b.css({height:"",minHeight:""});else $("body").hasClass("mobile")||c<=768?b.css({height:d+"px"}):(a.removeClass("fs-image-scale"),a.css({height:""}),b.css({height:"",minHeight:""}))})},c=$(window).width(),d=$(window).height();$(window).on("resize",function(){c=$(window).width(),d=$(this).height(),b()}).resize(),a()},scrollToSection:function(){var a=[];$(o).each(function(){a.push($(this).attr("href")),$(this).on("click",function(a){a.preventDefault();var b=$(this).attr("href"),c=$(this).data("offset")?$(this).data("offset"):0;Sa.scrollPage(b,c)})}),$(window).one("load",function(){$.each(a,function(a,c){b($(c))})}),$(window).on("scroll",function(){$.each(a,function(a,c){b($(c))})});var b=function(a){a.data("section-scrolling")||(window.requestAnimationFrame(function(){c(a)}),a.data("section-scrolling",!0))},c=function(a){if(Sa.isElementVisible(a,r)){var b=a.attr("id"),c=$('a[href="#'+b+'"]').closest("header, .side-navigation-wrapper, .overlay-navigation-wrapper");c&&($('a[href="#'+b+'"]').closest("header, .side-navigation-wrapper, .overlay-navigation-wrapper").find(o).parent().removeClass("current"),$('a[href="#'+b+'"]').parent().addClass("current"))}a.data("section-scrolling",!1)}},isElementVisible:function(a,b){if(b=a.is("[data-visible-threshold]")?a.data("visible-threshold"):r,"undefined"==typeof a.offset())return console.log("template-functions.js@isElementVisible: "+a.selector+" cannot be found in your html page."),!1;var c=$(window).height(),d=$(window).scrollTop(),e=d+$(window).height(),f=a.offset().top,h=(a.height(),f+a.outerHeight()-c*b),i=f+c*b;return a.is($(m))||(e>=i&&d<=h?a.addClass("in-view"):a.removeClass("in-view")),e>=i&&d<=h},scrollPage:function(a,b){$("html, body").animate({scrollTop:$(a).offset().top+b},p,q)},masonry:function(){$(s).each(function(){var c,e,a=$(this),b=$(this).find(".grid"),f=$(a).data("default-filter")?$(a).data("default-filter"):"*";if("*"!==f&&($(u).find(".active").removeClass("active"),$(u).find('[data-filter="'+f+'"]').addClass("active")),a.data("layout-mode")){c=a.data("layout-mode")?a.data("layout-mode"):"masonry",a.is("[data-layout-mode]")&&a.addClass("masonry"),a.is("[data-set-dimensions]")&&a.addClass("masonry-set-dimensions"),y=!!a.is("[data-animate-resize]"),x=a.is("[data-animate-resize-duration]")?a.data("animate-resize-duration")+"ms":x,a.is(".masonry-set-dimensions, .masonry-set-dimensions-2")?(a.is(".full-width.no-margins")&&Sa.masonryWrapperWidth(a,b),e=Sa.masonryColWidth(a,b),Sa.masonryThumbSizes(a,b,Sa.masonryColWidth(a,b))):e=".grid-sizer";var g=$('<div class="tm-loader"><div id="circle" /></div>');g.appendTo(a),imagesLoaded(b,function(){b.isotope({filter:f,itemSelector:".grid-item",isResizeBound:!!y,transitionDuration:w,layoutMode:c,stamp:".masonry-stamp",masonry:{columnWidth:e}}),a.find(g).remove(),b.css({visibility:"visible",minHeight:"initial"});var d=b.children().length-1;$("body").hasClass("transition-support")||a.removeClass("fade-in-progressively"),b.children().each(function(b){$(this).delay(100*b).animate({opacity:1},500,"easeInOutQuart",function(){b===d&&a.removeClass("fade-in-progressively")})}),$(window).on("resize",function(){a.is(".full-width.no-margins")&&Sa.masonryWrapperWidth(a,b),Sa.masonryThumbSizes(a,b,Sa.masonryColWidth(a,b)),y?b.isotope({transitionDuration:x,masonry:{columnWidth:".grid-sizer"!==e?Sa.masonryColWidth(a,b):".grid-sizer"}}):(b.removeClass("filtering"),b.isotope({transitionDuration:0,masonry:{columnWidth:".grid-sizer"!==e?Sa.masonryColWidth(a,b):".grid-sizer"}}).isotope("layout").isotope({transitionDuration:x}))})})}else b.css({visibility:"visible"})}),$(u).each(function(){var a,b;$(this).find("a").on("click",function(c){c.preventDefault(),$(this).closest(u).find(".active").removeClass("active"),$(this).addClass("active"),a=$(this).closest(u).data("target-grid")?$(this).closest(u).data("target-grid"):s,w=$(a).is("[data-animate-filter-duration]")?$(a).data("animate-filter-duration")+"ms":w,a=$(a).find(".grid"),a.isotope({transitionDuration:w}),b=$(this).attr("data-filter"),$(a).addClass("filtering").isotope({filter:b})}),$(this).find("a").each(function(){if(a=$(this).closest(u).data("target-grid")?$(this).closest(u).data("target-grid"):s,b="*"!=$(this).data("filter")?$(this).data("filter"):".grid-item",$(this).find(".project-count").length>0){var c=$(a).find(b).length;$(this).find(".project-count").html(c)}})})},masonryWrapperWidth:function(a,b){var c=Math.ceil(1.001*a.width());b.css({maxWidth:c+"px",width:c+"px"})},masonryColWidth:function(a,b){var c,d=$(window).width(),e=Math.ceil(a.width()),f=a.is(".full-width.no-margins")?Math.ceil(1.001*e):b.width();return a.is(".full-width.small-margins, .full-width.no-margins")?(b.hasClass("content-grid-2")&&(c=d>=480?f/2:f/1),b.hasClass("content-grid-3")&&(c=d>768?f/3:d<=768&&d>480?f/2:f/1),b.hasClass("content-grid-4")&&(c=d>1140?f/4:d<=1140&&d>768?f/3:d<=768&&d>480?f/2:f/1),b.hasClass("content-grid-5")&&(c=d>1300?f/5:d<=1300&&d>1140?f/4:d<=1140&&d>=768?f/3:d<=768&&d>480?f/2:f/1),b.hasClass("content-grid-6")&&(c=d>1300?f/6:d<=1300&&d>1140?f/4:d<=1140&&d>=768?f/3:d<=768&&d>480?f/2:f/1)):(b.hasClass("content-grid-2")&&(c=d>=600?f/2:f/1),b.hasClass("content-grid-3")&&(c=d>960?f/3:d<=960&&d>600?f/2:f/1),b.hasClass("content-grid-4")&&(c=d>1140?f/4:d<=1140&&d>960?f/3:d<=960&&d>600?f/2:f/1),b.hasClass("content-grid-5")&&(c=d>1300?f/5:d<=1300&&d>1140?f/4:d<=1140&&d>960?f/3:d<=960&&d>600?f/2:f/1),b.hasClass("content-grid-6")&&(c=d>1300?f/6:d<=1300&&d>1140?f/4:d<=1140&&d>960?f/3:d<=960&&d>600?f/2:f/1)),c=Math.floor(c)},masonryThumbSizes:function(a,b,c){var d,e=$(window).width(),f=2,g=$(".masonry-set-dimensions").hasClass("no-margins")?0:parseFloat(b.find(".grid-item").css("padding-left")),h=a.is(".masonry-set-dimensions")?a.is("[data-grid-ratio]")?parseFloat(a.data("grid-ratio")):1.5:1;if(d=Math.floor((c-g)/h+g),a.is(".masonry-set-dimensions")){var i=a.is(".full-width.small-margins, .full-width.no-margins")?480:600;b.find(t).each(function(){$(this).is(".large, .masonry-stamp.large")?$(this).is(".portrait, .masonry-stamp.portrait")?$(this).css({width:e>i?Math.floor(c*f)+"px":c+"px",height:e>i?Math.floor(d*(2*f))+"px":2*d+"px"}):$(this).css({width:e>i?Math.floor(c*f)+"px":c+"px",height:e>i?Math.floor(d*f)+"px":d+"px"}):$(this).is(".wide, .masonry-stamp.wide")?$(this).css({width:e>i?Math.floor(c*f)+"px":c+"px",height:e>i?d+"px":d/2+"px"}):$(this).is(".portrait, .masonry-stamp.portrait")?$(this).css({width:c+"px",height:Math.floor(d*f)+"px"}):$(this).css({width:c+"px",height:d+"px"})})}a.is(".masonry-set-dimensions-2")&&(e>600?b.find(t).each(function(){$(this).hasClass("horizontal")?$(this).hasClass("two-third")?$(this).children(".item-description").length?$(this).css({width:Math.floor(c*(f+1))+"px",height:Math.floor(d)+"px"}):$(this).addClass("no-description").css({width:Math.floor(c*f)+"px",height:Math.floor(d)+"px"}):$(this).css({width:Math.floor(c*f)+"px",height:Math.floor(d)+"px"}):$(this).hasClass("vertical")?$(this).hasClass("two-third")&&$(this).children(".item-description").length?$(this).css({width:c+"px",height:Math.floor(c*(f+1))+"px"}):$(this).css({width:c+"px",height:Math.floor(d*f)+"px"}):$(this).css({width:c+"px",height:Math.floor(d)+"px"})}):b.find(t).each(function(){$(this).find("iframe, video, .tm-slider-container").length?$(this).css({width:c+"px",height:d+"px"}):$(this).css({width:"",height:""})}))},signupForm:function(){$(da).submit(function(a){a.preventDefault();var b=$(this),c=b.parent().find(aa),d=b.find(_),e=b.find('input[type="email"]'),f=b.find(ba),g=b.find(ca),h=b.attr("action"),i=b.attr("method"),j=b.serialize(),k=!1,l=!1,m=!1;if(ea=ea.split(".").join(""),d.removeClass(ea),d.each(function(){$(this).attr("required")&&($(this).val()||(k=!0,$(this).addClass(ea),c.hide().text(ka).fadeIn(200)))}),k||(l=!0),e.val()&&!Sa.isValidEmail(e.val())?(c.hide().text(la).fadeIn(200),e.addClass(ea)):m=!0,""!==f.val())return!1;if(k&&e.val()&&!Sa.isValidEmail(e.val())&&c.hide().text(ka+" "+la).fadeIn(200),l&&m){var n=$(g).val();$(g).css({width:$(g).outerWidth()+"px"}).val(ga).attr("disabled",!0),c.hide().text(fa).fadeIn(200),$.ajax({url:h,type:i,data:j,dataType:"json"}).done(function(a){try{a.response===!0?(c.text(ha),c.delay(1500).fadeOut(200),d.val("")):c.hide().text(a.json.error_message).fadeIn(200)}catch(a){console.log("error in parsing returned ajax data: "+a),c.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(a,b,d){console.log("Error occured in processing your request:"),console.log(a),console.log("Text status"),console.log(b),console.log("Error thrown"),console.log(d),console.log("Servre response"),console.log(a.status),console.log("Response Text may contain error output from PHP"),console.log(a.responseText),c.hide().text(ia+b+" ("+d+")").fadeIn(200)}).always(function(){$(g).css({width:""}).val(n).attr("disabled",!1)})}})},contactForm:function(){$(ma).submit(function(a){a.preventDefault();var b=$(this),c=b.parent().find(aa),d=b.find(_),e=b.find('input[type="email"]'),f=b.find(ba),g=b.find(ca),h=b.attr("action"),i=b.attr("method"),j=[],k=encodeURIComponent(b.find("textarea[name=message]").val()+"\n"),l=[];b.find("input:not([type=submit]),select,textarea").each(function(a,b){var c=$(b),d=c.attr("name");if(c.hasClass("form-aux")&&d){var e=c.data("label")||d,f=c.find("option:selected").text(),g=c.val();!g&&c.is("select")?g=e==f?"Not selected":c.find("option:selected").text():"checkbox"!=c.attr("type")||c.prop("checked")||(g="Not checked"),l.push({name:d,label:encodeURIComponent(e),value:encodeURIComponent(g)})}else d&&"message"!=d&&j.push(d+"="+encodeURIComponent(c.val()))});for(var m=0;m<l.length;m++){var n=encodeURIComponent("\n")+l[m].label+"%3A%20"+l[m].value;k+=n}j.push("message="+k),j=j.join("&");var o=!1,p=!1,q=!1;if(na=na.split(".").join(""),d.removeClass(na),d.each(function(){($(this).attr("required")||$(this).children().attr("required"))&&($(this).is(":checkbox")?$(this).is(":checkbox:checked")||(o=!0,$(this).addClass(na)):$(this).children().is("select")?$(this).children().val()==$(this).children().find("option:selected").text()&&(o=!0,$(this).addClass(na)):$(this).val()||(o=!0,$(this).addClass(na)),o&&c.hide().text(sa).fadeIn(200))}),o||(p=!0),e.val()&&!Sa.isValidEmail(e.val())?(c.hide().text(ta).fadeIn(200),e.addClass(na)):q=!0,""!==f.val())return!1;if(o&&e.val()&&!Sa.isValidEmail(e.val())&&c.hide().text(sa+" "+ta).fadeIn(200),p&&q){var r=$(g).val();$(g).css({width:$(g).outerWidth()+"px"}).val(pa).attr("disabled",!0),c.hide().text(oa).fadeIn(200),$.ajax({url:h,type:i,data:j,dataType:"json"}).done(function(a){try{if(a.response===!0)c.text(qa),c.delay(1500).fadeOut(200),d.val("");else{var b="undefined"==typeof a.json.error_message?"There is a possibility that your message was not sent. Please check up the server or script configuration.":a.json.error_message;c.hide().text(ra+" "+b).fadeIn(200)}}catch(b){console.log("error in parsing returned ajax data: "+b),console.log(a),c.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(a,b,d){console.log("Error occured in processing your request:"),console.log(a),console.log("Text status"),console.log(b),console.log("Error thrown"),console.log(d),console.log("Servre response"),console.log(a.status),console.log("Response Text may contain error output from PHP"),console.log(qXHR.responseText),c.hide().text(ra+" (Please see the console for error details.)").fadeIn(200)}).always(function(){$(g).css({width:""}).val(r).attr("disabled",!1)})}})},isValidEmail:function(a){var b=new RegExp(/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i);return b.test(a)},enablePlaceHolder:function(){$("input, textarea").placeholder()},googleMap:function(){$(ua).each(function(){var a=$(this).children().attr("id");xa=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):xa,ya=$(this).data("coordinates")?$(this).data("coordinates"):ya,za=$(this).data("info")?JSON.parse("["+$(this).data("info")+"]"):za,Ca=$(this).data("zoom-level")?parseFloat($(this).data("zoom-level")):Ca,Ja=!(!$(this).data("style")||"greyscale"!==$(this).data("style"));var b=Ja?-100:0,c=!$("body").hasClass("mobile"),d={draggable:c,zoom:Ca,center:new google.maps.LatLng(ya[0][0],ya[0][1]),mapTypeControl:Ea,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT},panControl:Fa,panControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},zoomControl:Ga,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP},scrollwheel:Da,scaleControl:Ha,streetViewControl:Ia,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},styles:[{stylers:[{saturation:b}]}]},e=new google.maps.Map(document.getElementById(a),d);$(this).children().data("mapref",e);for(var f,g,h=0,i=0;i<ya.length;i++)f=new google.maps.Marker({position:new google.maps.LatLng(ya[i][0],ya[i][1]),map:e,icon:new google.maps.MarkerImage(xa[h],null,null,null,new google.maps.Size(Aa,Ba))}),g=new google.maps.InfoWindow({content:za[i]}),google.maps.event.addListener(f,"click",function(a,b){return function(){g.setContent(za[b]),g.open(e,a)}}(f,i)),h++;google.maps.event.addDomListener(window,"resize",function(){var a=e.getCenter();google.maps.event.trigger(e,"resize"),e.setCenter(a)})}),$(wa).each(function(){$(this).data("marker",!1),$(this).on("click",function(a){a.preventDefault();var g,h,b=$("#"+$(this).data("target-map")).data("mapref"),c=$(this).data("coordinates"),d=new google.maps.LatLng(c[0][0],c[0][1]),e=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):null,f=$(this).data("icon")?JSON.parse("["+$(this).data("info")+"]"):null;b.panTo(d),$(this).data("marker")||($(this).data("icon")&&(g=new google.maps.Marker({position:new google.maps.LatLng(c[0][0],c[0][1]),map:b,icon:new google.maps.MarkerImage(e[0],null,null,null,new google.maps.Size(Aa,Ba))})),$(this).data("info")&&(h=new google.maps.InfoWindow({content:f[0]}),google.maps.event.addListener(g,"click",function(a,c){return function(){h.setContent(f[0]),h.open(b,a)}}(g,0))),$(this).data("marker",!0)),$(this).closest(va).hasClass(va.split(".").join(""))&&($(this).closest(va).find(".active").removeClass("active"),$(this).addClass("active"))})})},fixedFooter:function(){function e(){$(Ma).hasClass(b)&&$(window).width()>960&&$(Ka).css({marginBottom:a+"px"}),$(Ma).is("[data-animate-reveal]")&&(c=$(Ka).outerHeight()+d-$(window).scrollTop(),c<=$(window).height()&&$(window).width()>960?$(Ka).addClass("animate-content"):$(Ka).removeClass("animate-content"))}if($("body").hasClass("mobile"))return!1;var c,a=$(La).outerHeight(),b=La.split(".").join(""),d=$(Ka).offset().top;$(Ma).hasClass(b)&&$(Ka).addClass("reveal-footer"),$(window).on("scroll",function(){e()}),$(window).on("resize",function(){a=$(La).outerHeight(),e()}),e()},pageFade:function(){return!!Na&&void $(Pa).not(Qa).on("click",function(a){a.preventDefault();var b=this.href;$("body").hasClass("transition-support")?$(Oa).addClass("page-fade-out").on(Ra,function(a){return a.stopPropagation(),a.target===$(this)[0]&&void Sa.goToNewPage(b)}):Sa.goToNewPage(b)})},goToNewPage:function(a){window.location=a},preloadPage:function(a){$("body").preloadPage({onComplete:function(){Sa.horizon(".horizon",".parallax .horizon","easeInOutQuint",!1,1)}})}};!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),Sa.init()});